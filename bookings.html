<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>All Bookings ‚Äì Padmavati Greens</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
  <script>
    (function(){
      try { var s=JSON.parse(localStorage.getItem('pg_session')); if(!s||!s.token){window.location.replace('login.html');} }
      catch(e){ window.location.replace('login.html'); }
    })();
  </script>
</head>
<body>

<div class="page-wrap">
  <div class="page-title">All Bookings</div>
  <div class="page-sub" id="bookingsSubtitle">Loading‚Ä¶</div>

  <div class="tbl-toolbar">
    <div class="tbl-search">
      <span class="tbl-icon">üîç</span>
      <input type="text" id="bSearch" placeholder="Search receipt, plot, name‚Ä¶">
    </div>
    <select class="select-filter" id="bStatusFilter">
      <option value="">All Status</option>
      <option value="Active">Active</option>
      <option value="Cancelled">Cancelled</option>
    </select>
    <span id="bCount" class="result-count"></span>
  </div>

  <div class="table-wrap">
    <table class="data-table">
      <thead id="bookingsThead"></thead>
      <tbody id="bookingsTbody">
        <tr><td colspan="10"><div class="loading-block"><div class="spinner"></div></div></td></tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Panel overlay -->
<div class="panel-overlay" id="panelOverlay"></div>

<!-- Slide-in payment panel -->
<div class="slide-panel" id="slidePanel">
  <div class="panel-header">
    <div>
      <div style="font-size:.7rem;color:rgba(255,255,255,.45);text-transform:uppercase;letter-spacing:.06em;">Booking</div>
      <div id="panelReceiptNo" style="font-family:'Cormorant Garamond',serif;font-size:1.2rem;font-weight:700;color:#fff;"></div>
    </div>
    <button class="panel-close" id="panelClose">‚úï</button>
  </div>
  <div class="panel-body">
    <!-- Balances & schedule -->
    <div id="panelBalances"></div>
    <!-- Payment history -->
    <div style="margin-top:20px;">
      <div class="section-title" style="font-size:.95rem;margin-bottom:10px;">Payment History</div>
      <div id="paymentsList"></div>
    </div>
    <!-- Add payment form -->
    <div id="addPaymentForm" style="margin-top:20px;padding-top:16px;border-top:1px solid var(--border);"></div>
  </div>
</div>

<div id="toast"></div>
<script src="js/config.js"></script>
<script src="js/api.js"></script>
<script src="js/auth.js"></script>
<script src="js/utils.js"></script>
<script src="js/header.js"></script>
<script src="js/app/bookings.js"></script>
</body>
</html>
